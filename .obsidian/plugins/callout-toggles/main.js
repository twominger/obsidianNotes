(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>j});const n=require("obsidian"),i=["note","abstract","info","todo","tip","success","question","warning","failure","danger","bug","example","quote"];const o="callout-manager";async function l(e){var t;if((null!=(t=e.app)?t:globalThis.app).plugins.enabledPlugins.has(o))return function(e){var t,n,i,l,r;return n=this,i=void 0,r=function*(){const n=null!==(t=null==e?void 0:e.app)&&void 0!==t?t:globalThis.app,{plugins:i}=n;if(!i.enabledPlugins.has(o))return;const l=yield new Promise(((e,t)=>{const n=i.plugins[o];if(void 0!==n)return e(n);const l=setInterval((()=>{const t=i.plugins[o];void 0!==t&&(clearInterval(l),e(t))}),10)}));return l.newApiHandle("v1",e,(()=>{l.destroyApiHandle("v1",e)}))},new((l=void 0)||(l=Promise))((function(e,t){function o(e){try{a(r.next(e))}catch(e){t(e)}}function s(e){try{a(r.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(o,s)}a((r=r.apply(n,i||[])).next())}))}(e)}function r(e){return`wrap-lines-in-${e}-callout`}function s(e){return e[e.length-1]}function a(e,t){return e.filter((e=>!t.has(e)))}function c(e){throw new Error(`Unexpected value: ${e}`)}function u(e,t){const n=function(e,t){const n=e.exec(t);return n?.[1]}(e,t);return n?.trim()}function d(e){return e.split("\n")}function g(e){return`${e.charAt(0).toUpperCase()}${e.slice(1).toLowerCase()}`}const f=/^> \[!(.+)\]/,h=/^> \[!.+\][+-]? (.+)/,p=/^#+ (.+)/;function C({calloutID:e,maybeTitleFromHeading:t,pluginSettingsManager:n}){const i=function(e,t){const n=function(e,t){const n=t.getSetting("calloutIDCapitalization");switch(n){case"lower":return e.toLowerCase();case"upper":return e.toUpperCase();case"sentence":return g(e);case"title":return e.split("-").map((e=>g(e))).join("-");default:c(n)}}(e,t);return`> [!${n}]`}(e,n),o=function(e){const t=e.getSetting("defaultFoldableState");switch(t){case"unfoldable":return"";case"foldable-expanded":return"+";case"foldable-collapsed":return"-";default:c(t)}}(n),l=t??function(e,t){return t.getSetting("shouldUseExplicitTitle")?S(e):null}(e,n);return{baseCalloutHeader:i,foldableSuffix:o,maybeTitle:l}}function m({baseCalloutHeader:e,foldableSuffix:t,maybeTitle:n}){return`${e}${t}${null!==n?` ${n}`:""}`}function S(e){return g(e).replace(/-/g," ")}function w({calloutHeaderParts:e,line:t}){const{baseCalloutHeader:n,foldableSuffix:i,maybeTitle:o}=e;if(null===o){const e=n.length+i.length;return{from:{line:t,ch:e},to:{line:t,ch:e}}}const l=o.length,r=n.length+i.length+1;return{from:{line:t,ch:r},to:{line:t,ch:r+l}}}function L({oldTo:e,selectedLinesDiff:t}){const{oldLines:n,newLines:i}=t,o=i.length-n.length,l=e.line+o,r=y(t);return{line:l,ch:v({oldCh:e.ch,lineDiff:r})}}function y({oldLines:e,newLines:t}){return{oldLine:s(e),newLine:s(t)}}function v({oldCh:e,lineDiff:t}){const{oldLine:n,newLine:i}=t;return function({value:e,min:t,max:n}){return Math.min(Math.max(e,t),n)}({value:e-(n.length-i.length),min:0,max:i.length})}function T(e){const{from:t,to:n}=function(e){const{from:t,to:n}=x(e);return{from:{line:t.line,ch:0},to:{line:n.line,ch:e.getLine(n.line).length}}}(e);return{selectedLinesRange:{from:t,to:n},selectedLinesText:e.getRange(t,n)}}function D(e){const{anchor:t,head:n}=function(e){return{anchor:e.getCursor("anchor"),head:e.getCursor("head")}}(e),{from:i,to:o}=x(e);return{anchor:t,head:n,from:i,to:o}}function x(e){return{from:e.getCursor("from"),to:e.getCursor("to")}}function P({editor:e,action:t}){switch(t.type){case"setCursor":return void e.setCursor(t.newPosition);case"setSelection":return void e.setSelection(t.newRange.from,t.newRange.to);case"setSelectionInCorrectDirection":{const{newRange:n,originalCursorPositions:i}=t;return void function({editor:e,originalCursorPositions:t,newRange:n}){const{newAnchor:i,newHead:o}=function(e,t){const{from:n,to:i}=t;return function({anchor:e,head:t}){return t.line<e.line||t.line===e.line&&t.ch<e.ch}(e)?{newAnchor:i,newHead:n}:{newAnchor:n,newHead:i}}(t,n);e.setSelection(i,o)}({editor:e,originalCursorPositions:i,newRange:n})}case"clearSelection":return void function({editor:e,newCursor:t}){e.setSelection(t,t)}({editor:e,newCursor:t.newCursor});default:c(t)}}function b({originalCursorPositions:e}){const{from:t}=e;return{line:t.line,ch:0}}function M({originalCursorPositions:e}){return{type:"clearSelection",newCursor:{line:e.from.line,ch:0}}}function H({editorAction:e,pluginSettingsManager:t}){return(n,i,o)=>!!i.somethingSelected()&&!!function(e){const{selectedLinesText:t}=T(e);return f.test(t)}(i)&&function({checking:e,editorAction:t,editor:n,pluginSettingsManager:i}){return e||t({editor:n,pluginSettingsManager:i}),!0}({checking:n,editorAction:e,editor:i,pluginSettingsManager:t})}function I({editor:e,pluginSettingsManager:t}){const n=D(e),{selectedLinesRange:i,selectedLinesText:o}=T(e),l=d(o),{calloutID:r,maybeExplicitTitle:a}=function(e){const t=function(e){const t=function(e){return u(f,e)}(e);if(void 0===t)throw new Error("Callout ID not found in callout text.");return t}(e),n=function(e){return u(h,e)}(e);return{calloutID:t,maybeExplicitTitle:n}}(o),g=function({calloutID:e,maybeExplicitTitle:t,selectedLines:n}){return void 0!==t&&function({calloutID:e,title:t}){return""!==t&&t!==S(e)}({calloutID:e,title:t})?function(e,t){return[`###### ${e}`,...t.slice(1).map((e=>e.replace(/^> /,"")))]}(t,n):function(e){const t=e.slice(1).map((e=>e.replace(/^> /,"")));return t.length>0?t:[""]}(n)}({calloutID:r,maybeExplicitTitle:a,selectedLines:l}),p={oldLines:l,newLines:g},C=g.join("\n");e.replaceRange(C,i.from,i.to),function({editor:e,selectedLinesDiff:t,originalCursorPositions:n,pluginSettingsManager:i}){const{afterRemovingCallout:o}=i.getSetting("autoSelectionModes"),l=function({afterRemovingCallout:e,selectedLinesDiff:t,originalCursorPositions:n}){const{oldLines:i,newLines:o}=t,l=i.length!==o.length;switch(e){case"originalSelection":return function({selectedLinesDiff:e,originalCursorPositions:t,didRemoveHeaderLine:n}){const{oldLines:i,newLines:o}=e,{from:l,to:r}=t,s=n?0:v({oldCh:l.ch,lineDiff:{oldLine:i[0],newLine:o[0]}});return{type:"setSelectionInCorrectDirection",newRange:{from:{line:l.line,ch:s},to:L({oldTo:r,selectedLinesDiff:e})},originalCursorPositions:t}}({selectedLinesDiff:t,originalCursorPositions:n,didRemoveHeaderLine:l});case"selectFull":return function({selectedLinesDiff:e,originalCursorPositions:t}){const n=b({originalCursorPositions:t}),{oldLines:i,newLines:o}=e,l=i.length!==o.length,{to:r}=t;return{type:"setSelectionInCorrectDirection",newRange:{from:n,to:{line:l?r.line-1:r.line,ch:s(o).length}},originalCursorPositions:t}}({selectedLinesDiff:t,originalCursorPositions:n});case"clearSelectionCursorTo":return function({selectedLinesDiff:e,originalCursorPositions:t}){const{to:n}=t,i=L({oldTo:n,selectedLinesDiff:e});return{type:"clearSelection",newCursor:{line:i.line,ch:i.ch-1}}}({selectedLinesDiff:t,originalCursorPositions:n});case"clearSelectionCursorStart":return M({originalCursorPositions:n});case"clearSelectionCursorEnd":return function({selectedLinesDiff:e,originalCursorPositions:t,didRemoveHeaderLine:n}){const{to:i}=t;return{type:"clearSelection",newCursor:{line:n?i.line-1:i.line,ch:s(e.newLines).length}}}({selectedLinesDiff:t,originalCursorPositions:n,didRemoveHeaderLine:l});default:c(e)}}({selectedLinesDiff:t,originalCursorPositions:n,afterRemovingCallout:o});P({editor:e,action:l})}({editor:e,selectedLinesDiff:p,originalCursorPositions:n,pluginSettingsManager:t})}function E(e,t,n){const i=D(e),{selectedLinesRange:o,selectedLinesText:l}=T(e),r=d(l),{maybeTitleFromHeading:s,rawBodyLines:a}=function(e){const[t,...n]=e,i=function({firstSelectedLine:e}){const t=function(e){return u(p,e)}(e);return""===t||void 0===t?null:t}({firstSelectedLine:t});return{maybeTitleFromHeading:i,rawBodyLines:null===i?e:n}}(r),g=C({calloutID:t,maybeTitleFromHeading:s,pluginSettingsManager:n}),f=function({calloutHeaderParts:e,rawBodyLines:t}){return[m(e),...t.map((e=>`> ${e}`))]}({calloutHeaderParts:g,rawBodyLines:a}),h={oldLines:r,newLines:f},S=f.join("\n");e.replaceRange(S,o.from,o.to),function({editor:e,selectedLinesDiff:t,originalCursorPositions:n,pluginSettingsManager:i,calloutHeaderParts:o}){const{whenTextSelected:l}=i.getSetting("autoSelectionModes"),r=function({whenTextSelected:e,selectedLinesDiff:t,originalCursorPositions:n,calloutHeaderParts:i}){const{oldLines:o,newLines:l}=t,r=o.length!==l.length;switch(e){case"selectHeaderToCursor":return function({selectedLinesDiff:e,originalCursorPositions:t,didAddHeaderLine:n}){const{from:i,to:o}=t,l=function({oldFrom:e,selectedLinesDiff:t}){const{oldLines:n,newLines:i}=t;if(n.length!==i.length)return{line:e.line,ch:0};const o={oldLine:n[0],newLine:i[0]},l=v({oldCh:e.ch,lineDiff:o});return{line:e.line,ch:l}}({oldFrom:i,selectedLinesDiff:e}),r=n?o.line+1:o.line,s=y(e);return{type:"setSelectionInCorrectDirection",newRange:{from:l,to:{line:r,ch:v({oldCh:o.ch,lineDiff:s})}},originalCursorPositions:t}}({selectedLinesDiff:t,originalCursorPositions:n,didAddHeaderLine:r});case"selectFull":return function({selectedLinesDiff:e,originalCursorPositions:t,didAddHeaderLine:n}){return{type:"setSelectionInCorrectDirection",newRange:{from:b({originalCursorPositions:t}),to:A({selectedLinesDiff:e,originalCursorPositions:t,didAddHeaderLine:n})},originalCursorPositions:t}}({selectedLinesDiff:t,originalCursorPositions:n,didAddHeaderLine:r});case"selectTitle":return function({originalCursorPositions:e,calloutHeaderParts:t}){return{type:"setSelection",newRange:w({calloutHeaderParts:t,line:e.from.line})}}({originalCursorPositions:n,calloutHeaderParts:i});case"originalSelection":return function({selectedLinesDiff:e,originalCursorPositions:t,didAddHeaderLine:n}){const{from:i,to:o}=t,l=n?i.line+1:i.line,r=function({selectedLinesDiff:{oldLines:e,newLines:t},didAddHeaderLine:n}){const i=e[0];if(!n)return{oldLine:i,newLine:t[0]};const o=t[1];if(void 0===o)throw new Error("Expected first non-header line to be defined");return{oldLine:i,newLine:o}}({selectedLinesDiff:e,didAddHeaderLine:n});return{type:"setSelectionInCorrectDirection",newRange:{from:{line:l,ch:v({oldCh:i.ch,lineDiff:r})},to:L({oldTo:o,selectedLinesDiff:e})},originalCursorPositions:t}}({selectedLinesDiff:t,originalCursorPositions:n,didAddHeaderLine:r});case"clearSelectionCursorTo":return function({selectedLinesDiff:e,originalCursorPositions:t}){const{to:n}=t,i=L({oldTo:n,selectedLinesDiff:e});return{type:"clearSelection",newCursor:{line:i.line,ch:i.ch-1}}}({selectedLinesDiff:t,originalCursorPositions:n});case"clearSelectionCursorStart":return M({originalCursorPositions:n});case"clearSelectionCursorEnd":return function({selectedLinesDiff:e,originalCursorPositions:t,didAddHeaderLine:n}){return{type:"clearSelection",newCursor:A({selectedLinesDiff:e,originalCursorPositions:t,didAddHeaderLine:n})}}({selectedLinesDiff:t,originalCursorPositions:n,didAddHeaderLine:r});default:c(e)}}({whenTextSelected:l,selectedLinesDiff:t,originalCursorPositions:n,calloutHeaderParts:o});P({editor:e,action:r})}({editor:e,selectedLinesDiff:h,originalCursorPositions:i,pluginSettingsManager:n,calloutHeaderParts:g})}function A({selectedLinesDiff:e,originalCursorPositions:t,didAddHeaderLine:n}){const{to:i}=t;return{line:n?i.line+1:i.line,ch:s(e.newLines).length}}function R(e,t){return{id:r(e),name:`Wrap lines in ${e} callout`,editorCallback:n=>function(e,t,n){e.somethingSelected()?E(e,t,n):function({editor:e,calloutID:t,pluginSettingsManager:n}){const i=e.getCursor(),{line:o}=i,l=e.getLine(o),r=C({calloutID:t,maybeTitleFromHeading:null,pluginSettingsManager:n}),s=function({calloutHeader:e,oldLineText:t}){return`${e}\n> ${t}`}({calloutHeader:m(r),oldLineText:l});e.replaceRange(s,{line:o,ch:0},{line:o,ch:l.length}),function({editor:e,oldCursor:t,oldLineText:n,pluginSettingsManager:i,calloutHeaderParts:o}){const{whenNothingSelected:l}=i.getSetting("autoSelectionModes"),r=function({oldCursor:e,oldLineText:t,whenNothingSelected:n,calloutHeaderParts:i}){switch(n){case"selectHeaderToCursor":return function({oldCursor:e,oldLineText:t}){const n={line:e.line,ch:0},i=Math.min(e.ch+3,t.length+2);return{type:"setSelection",newRange:{from:n,to:{line:e.line+1,ch:i}}}}({oldCursor:e,oldLineText:t});case"selectFull":return function({oldCursor:e,oldLineText:t}){return{type:"setSelection",newRange:{from:{line:e.line,ch:0},to:{line:e.line+1,ch:t.length+2}}}}({oldCursor:e,oldLineText:t});case"selectTitle":return function({oldCursor:e,calloutHeaderParts:t}){return{type:"setSelection",newRange:w({calloutHeaderParts:t,line:e.line})}}({oldCursor:e,calloutHeaderParts:i});case"originalCursor":return function({oldCursor:e}){const{line:t,ch:n}=e;return{type:"setCursor",newPosition:{line:t+1,ch:n+2}}}({oldCursor:e});case"cursorEnd":return function({oldCursor:e,oldLineText:t}){return{type:"setCursor",newPosition:{line:e.line+1,ch:t.length+2}}}({oldCursor:e,oldLineText:t});default:c(n)}}({oldCursor:t,oldLineText:n,whenNothingSelected:l,calloutHeaderParts:o});P({editor:e,action:r})}({editor:e,oldCursor:i,oldLineText:l,pluginSettingsManager:n,calloutHeaderParts:r})}({editor:e,calloutID:t,pluginSettingsManager:n})}(n,e,t)}}class F{constructor(e,t){this.plugin=e,this.pluginSettingsManager=t,this.addedCommandCalloutIDsSet=new Set,this.onCalloutManagerChange=this.resyncCalloutCommands.bind(this)}onPluginUnload(){void 0!==this.calloutManager&&this.calloutManager.off("change",this.onCalloutManagerChange)}async setupCommands(){await this.setupCalloutManagerIfInstalled(),this.addAllCommands()}async setupCalloutManagerIfInstalled(){const e=await l(this.plugin);void 0!==e&&(this.calloutManager=e,this.calloutManager.on("change",this.onCalloutManagerChange))}resyncCalloutCommands(){const e=this.getAllCalloutIDs();this.removeOutdatedCalloutCommands(e),this.addMissingCalloutCommands(e)}getAllCalloutIDs(){return void 0===this.calloutManager?i:this.calloutManager.getCallouts().map((e=>e.id))}removeOutdatedCalloutCommands(e){a(Array.from(this.addedCommandCalloutIDsSet),new Set(e)).forEach((e=>this.removeWrapLinesInCalloutCommand(e)))}removeWrapLinesInCalloutCommand(e){const t=function({pluginID:e,calloutID:t}){return function(e,t){return`${e}:${t}`}(e,r(t))}({pluginID:this.plugin.manifest.id,calloutID:e});this.removeCommand({fullCommandID:t}),this.addedCommandCalloutIDsSet.delete(e)}addMissingCalloutCommands(e){a(e,this.addedCommandCalloutIDsSet).forEach((e=>this.addWrapLinesInCalloutCommand(e)))}addAllCommands(){this.addAllWrapLinesInCalloutCommands(),this.addRemoveCalloutFromSelectedLinesCommand()}addAllWrapLinesInCalloutCommands(){this.getAllCalloutIDs().forEach((e=>this.addWrapLinesInCalloutCommand(e)))}addWrapLinesInCalloutCommand(e){const t=R(e,this.pluginSettingsManager);this.addCommand(t),this.addedCommandCalloutIDsSet.add(e)}addCommand(e){this.plugin.addCommand(e)}addRemoveCalloutFromSelectedLinesCommand(){const e={id:"remove-callout-from-selected-lines",name:"Remove callout from selected lines",editorCheckCallback:H({editorAction:I,pluginSettingsManager:this.pluginSettingsManager})};this.addCommand(e)}removeCommand({fullCommandID:e}){this.plugin.app.commands.removeCommand(e)}}const $=[{value:"selectHeaderToCursor",displayText:"Select up to header"},{value:"selectFull",displayText:"Select full callout"},{value:"selectTitle",displayText:"Select callout title"},{value:"originalCursor",displayText:"Keep relative cursor position"},{value:"cursorEnd",displayText:"Cursor at end"}],N=[{value:"selectHeaderToCursor",displayText:"Select up to header"},{value:"selectFull",displayText:"Select full callout"},{value:"selectTitle",displayText:"Select callout title"},{value:"originalSelection",displayText:"Keep relative selection"},{value:"clearSelectionCursorTo",displayText:"Clear selection"},{value:"clearSelectionCursorStart",displayText:"Clear selection, cursor at start"},{value:"clearSelectionCursorEnd",displayText:"Clear selection, cursor at end"}],O=[{value:"originalSelection",displayText:"Keep relative selection"},{value:"selectFull",displayText:"Select full remaining lines"},{value:"clearSelectionCursorTo",displayText:"Clear selection"},{value:"clearSelectionCursorStart",displayText:"Clear selection, cursor at start"},{value:"clearSelectionCursorEnd",displayText:"Clear selection, cursor at end"}],W={whenNothingSelected:"selectHeaderToCursor",whenTextSelected:"selectHeaderToCursor",afterRemovingCallout:"originalSelection"};function U({containerEl:e,settingName:t,settingDescription:i,dropdownOptions:o,currentValue:l,onChange:r}){new n.Setting(e).setName(t).setDesc(i).addDropdown((e=>{for(const{value:t,displayText:n}of o)e.addOption(t,n);e.setValue(l),e.onChange((e=>{if(!(e=>o.some((t=>t.value===e)))(e))throw new Error(`Invalid dropdown value: ${e}`);return r(e)}))}))}function V(e){const t={...e};return t.autoSelectionModes={...e.autoSelectionModes},t}const q={pluginVersion:"1.2.0",shouldUseExplicitTitle:!0,calloutIDCapitalization:"lower",defaultFoldableState:"unfoldable",autoSelectionModes:W};class k extends n.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,this.settings=V(q)}async setupSettingsTab(){this.settings=await this.loadSettings(),this.addSettingTab()}async loadSettings(){const e=await this.plugin.loadData()??{};if("1.2.0"!==e.pluginVersion){const t=function(e){const{shouldSetSelectionAfterCurrentLineWrap:t,pluginVersion:n,...i}=e;if(void 0===t)return{...V(q),...i};const o=function({shouldSetSelectionAfterCurrentLineWrap:e}){const t=e?"selectHeaderToCursor":"originalCursor",{whenTextSelected:n,afterRemovingCallout:i}=W;return{whenNothingSelected:t,whenTextSelected:n,afterRemovingCallout:i}}({shouldSetSelectionAfterCurrentLineWrap:t});return{...q,...i,autoSelectionModes:o}}(e);return await this.plugin.saveData(t),t}return e}addSettingTab(){this.plugin.addSettingTab(this)}getSetting(e){return this.settings[e]}async setSetting(e,t){this.settings[e]=t,await this.saveSettings()}async setAutoSelectionMode(e,t){const n={...this.settings.autoSelectionModes,[e]:t};await this.setSetting("autoSelectionModes",n)}display(){const{containerEl:e}=this;e.empty(),new n.Setting(e).setName("Callout headers").setHeading(),this.displayExplicitCalloutTitlesSetting(),this.displayCalloutIDCapitalizationSetting(),this.displayDefaultFoldableStateSetting(),this.displayAutoSelectionModeSettings()}displayExplicitCalloutTitlesSetting(){new n.Setting(this.containerEl).setName("Explicit callout titles").setDesc("Whether inserted callouts should have an explicit or implicit title by default. E.g. `> [!quote] Quote` vs `> [!quote]`.").addToggle((e=>e.setValue(this.settings.shouldUseExplicitTitle).onChange((e=>this.setSetting("shouldUseExplicitTitle",e)))))}displayCalloutIDCapitalizationSetting(){U({containerEl:this.containerEl,settingName:"Callout ID capitalization",settingDescription:"The default capitalization for inserted callout IDs. E.g. `> [!quote]` vs `> [!QUOTE]`.",dropdownOptions:[{value:"lower",displayText:"lower-case"},{value:"upper",displayText:"UPPER-CASE"},{value:"sentence",displayText:"Sentence-case"},{value:"title",displayText:"Title-Case"}],currentValue:this.settings.calloutIDCapitalization,onChange:e=>this.setSetting("calloutIDCapitalization",e)})}displayDefaultFoldableStateSetting(){U({containerEl:this.containerEl,settingName:"Foldable callouts",settingDescription:"The default folded state for inserted callouts: unfoldable, expanded, or collapsed. E.g. `> [!quote]` vs `> [!quote]+` vs `> [!quote]-`.",dropdownOptions:[{value:"unfoldable",displayText:"Unfoldable"},{value:"foldable-expanded",displayText:"Foldable, expanded"},{value:"foldable-collapsed",displayText:"Foldable, collapsed"}],currentValue:this.settings.defaultFoldableState,onChange:e=>this.setSetting("defaultFoldableState",e)})}displayAutoSelectionModeSettings(){new n.Setting(this.containerEl).setName("Auto-selection / auto-cursor").setHeading().setDesc("What to select, or where to place the cursor, after running a command. Selecting up to the header (or full text) can help with switching callout types quickly (by running remove/wrap back to back). But the other modes have their own merits as well. Experiment around to see what you prefer!"),U({containerEl:this.containerEl,settingName:"After inserting/wrapping with nothing selected",settingDescription:"What to select, or where to move the cursor, after inserting a fresh callout or wrapping the current line without any text selected.",dropdownOptions:$,currentValue:this.settings.autoSelectionModes.whenNothingSelected,onChange:e=>this.setAutoSelectionMode("whenNothingSelected",e)}),U({containerEl:this.containerEl,settingName:"After wrapping a text selection",settingDescription:"What to select, or where to move the cursor, after wrapping selected text in a callout.",dropdownOptions:N,currentValue:this.settings.autoSelectionModes.whenTextSelected,onChange:e=>this.setAutoSelectionMode("whenTextSelected",e)}),U({containerEl:this.containerEl,settingName:"After removing a callout",settingDescription:"What to select, or where to move the cursor, after removing a callout.",dropdownOptions:O,currentValue:this.settings.autoSelectionModes.afterRemovingCallout,onChange:e=>this.setAutoSelectionMode("afterRemovingCallout",e)})}async saveSettings(){await this.plugin.saveData(this.settings)}}class j extends n.Plugin{constructor(){super(...arguments),this.pluginSettingsManager=new k(this),this.pluginCommandManager=new F(this,this.pluginSettingsManager)}logInfo(e){console.log(`${this.manifest.name}: ${e}`)}async onload(){await this.pluginSettingsManager.setupSettingsTab(),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this))}async onLayoutReady(){await this.pluginCommandManager.setupCommands()}onunload(){this.pluginCommandManager.onPluginUnload()}}var z=exports;for(var _ in t)z[_]=t[_];t.__esModule&&Object.defineProperty(z,"__esModule",{value:!0})})();
/* nosourcemap */